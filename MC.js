var v_width,khan_c={i:{t:"kashif_ad",o:"",u:"",_:"",s:"",m:"300px",p:"250px",status:"no_play",l:!1,tags:[],h:0,played:!1,paused:!1,g:0,v:1,j:1,k:0,A:"",S:100,F:1,V:"khan_videos_r",D:0}},windowSize={w:window.parent.outerWidth,I:window.parent.outerHeight,q:window.parent.innerWidth,P:window.parent.innerHeight},uA=window.navigator.userAgent,isIE=/msie\s|trident\/|edge\//i.test(uA)&&!!(document.uniqueID||document.documentMode||window.O||window.B),posdiv=jQuery(parent.document).find("#right");posdiv.length&&(v_width=$(window.parent).width()-posdiv.offset().left-posdiv.outerWidth()-10),v_width<250&&(v_width=250),v_width<250&&(v_width=250);var base_frame=parent.document.getElementById(window.name),base_div=base_frame.parentElement.parentElement;function init(){jQuery("#"+khan_c.i.t).css({width:"300",height:"250",display:"none","z-index":"999999","background-color":"#000000",position:"relative",right:"0",bottom:"0"}),base_div.css({width:"300",height:"250",position:"fixed",right:"-3500px","z-index":"999999",bottom:"80px"}),jQuery("#"+khan_c.i.t).append("<div id='khan_videos_r' style='width:300px; height:250px; display:block; z-index:999999;'></div>"),jQuery("#"+khan_c.i.V).append("<video id='khan_video_r' style='width:300px; height:250px; display:none; opacity:0;' autoplay playsinline muted></video>"),hideVideoAd()}function createAdDisplayContainer(){khan_c.i._=new google.ima.AdDisplayContainer(document.getElementById("khan_videos_r"),khan_c.i.s)}function getTags(){return["https://pubads.g.doubleclick.net/gampad/ads?iu=/1039154/Moneycontrol/MC_Video_Slider&description_url=http%3A%2F%2Fwww.moneycontrol.com&env=vp&impl=s&correlator=&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=640x480|640x360&unviewed_position_start=1"]}function requestAds_a(a){khan_c.i.s=document.getElementById("khan_video_r"),createAdDisplayContainer(),khan_c.i.u=new google.ima.AdsLoader(khan_c.i._),khan_c.i.u.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,onAdsManagerLoaded_a,!1),khan_c.i.u.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError_a,!1);var r=new google.ima.AdsRequest;r.adTagUrl=a,r.linearAdSlotWidth=khan_c.i.m,r.linearAdSlotHeight=khan_c.i.p,r.nonLinearAdSlotWidth=khan_c.i.m,r.nonLinearAdSlotHeight=khan_c.i.p,khan_c.i.u.requestAds(r)}function onAdsManagerLoaded_a(a){var r=new google.ima.AdsRenderingSettings;r.M=!0,r.C=!0,khan_c.i.o=a.getAdsManager(khan_c.i.s,r),khan_c.i.o.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,onAdError_a),khan_c.i.o.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,onAdEvent_a),khan_c.i.o.addEventListener(google.ima.AdEvent.Type.LOADED,onAdEvent_a),khan_c.i.o.addEventListener(google.ima.AdEvent.Type.STARTED,onAdEvent_a),khan_c.i.o.addEventListener(google.ima.AdEvent.Type.COMPLETE,onAdEvent_a);try{khan_c.i.s.load(),khan_c.i._.initialize(),khan_c.i.o.init(khan_c.i.m,khan_c.i.p,google.ima.ViewMode.NORMAL),khan_c.i.o.start()}catch(a){}}function onAdEvent_a(a){a.getAd();switch(a.type){case google.ima.AdEvent.Type.LOADED:BeforePlay();break;case google.ima.AdEvent.Type.STARTED:AfterPlay(),setProgress();break;case google.ima.AdEvent.Type.COMPLETE:AfterFinish();break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:AfterFinish1()}}function onAdError_a(a){khan_c.i.g<khan_c.i.v-1&&khan_c.i.h==parseInt(khan_c.i.tags.length)-1?(khan_c.i.h=0,khan_c.i.g++):khan_c.i.h++,khan_c.i.u.destroy(),khan_c.i._.destroy(),jQuery("#"+khan_c.i.V).find("div").remove(),jQuery("#"+khan_c.i.V).find("a").remove(),khan_c.i.s=null,khan_c.i.T=null,khan_c.i.L=null,isIE&&CollectGarbage(),khan_c.i.h<khan_c.i.tags.length?requestAds_a(khan_c.i.tags[khan_c.i.h]):khan_c.i.D<khan_c.i.j-khan_c.i.v&&(4==khan_c.i.D&&(khan_c.i.tags=resize_array(khan_c.i.tags,2)),khan_c.i.h=0,setTimeout(function(){requestAds_a(khan_c.i.tags[khan_c.i.h])},1e4),khan_c.i.D++)}function resize_array(a,r){for(var d=a.length,i=[],e=0,t=0;d>e;)e==r||(i[t]=a[e],t++),e++;return i}function setupUIForContent(){jQuery("#khan_videos_r>div").css("margin","0 auto"),jQuery("#"+khan_c.i.V).append("<div id='khan_ui_bottom_r' style='display:none;position:absolute;bottom:0;height:40px;width:100%;background: linear-gradient(to bottom, rgba(0,0,0,0) 5%, rgba(0,0,0,0.6));'></div>"),jQuery("#"+khan_c.i.V).append("<div id='khan_ui_top_o' style='display:none;position:absolute;height:20px;z-index:999998;width:20px;top:0px;left:0px;'></div>"),jQuery("#khan_ui_top_o").append("<a id='khan_skip_r' style='position:absolute;display:block;top:5px;left:5px;width:15px;height:15px;line-height:0;'><img src='//videoad.000webhostapp.com/img/close4.png' style='width:15px;height:15px;' /></a>"),jQuery("#khan_ui_bottom_r").append("<a id='khan_logo_r' style='position:absolute;display:block;bottom:5px;left:5px;' href='http://www.nw18.com' target='_blank' ><img src='//videoad.000webhostapp.com/vid/18_logo.png' style='width:30px' /></a>"),jQuery("#khan_ui_bottom_r").append("<a id='khan_mute_r' style='position:absolute;display:block;bottom:5px;right:5px;'><img src='//videoad.000webhostapp.com/img/sound_off2.png' style='width:18px' /></a>"),jQuery("#khan_ui_bottom_r").append("<a id='khan_play_r' style='position:absolute;display:none;bottom:6px;left:50px;'><img src='//videoad.000webhostapp.com/img/play.png' style='width:11px' /></a>"),jQuery("#khan_ui_bottom_r").append("<a id='khan_pause_r' style='position:absolute;display:block;bottom:6px;left:50px;'><img src='//videoad.000webhostapp.com/img/pause.png' style='width:12px' /></a>");var a=v_width-110;jQuery("#khan_ui_bottom_r").append("<div id='khan_progress_wrap_r' style='display:block; position: absolute; bottom:16px !important;width:"+a+"px;height:1px;left:70px;background-color:#808080;font-family:serif !important;overflow: unset;line-height:1 !important;'><div id='khan_progress_r' value='0' min='0' style='bottom:-2px;position:absolute;width:"+a+"px;'><div id='khan_progress-bar_r' style='display:block;overflow:visible;background-color:white;height:5px;width:100%;'></div></div></div>")}function setProgress(){document.getElementById("khan_video_r");var a=document.getElementById("khan_progress_r"),r=document.getElementById("khan_progress-bar_r"),d=0;void 0!==document.createElement("khan_progress_r").max||a.setAttribute("data-state","fake"),document.addEventListener&&(khan_c.i.duration=khan_c.i.o.getRemainingTime(),khan_c.i.duration>0?a.setAttribute("max",khan_c.i.o.getRemainingTime()):(a.setAttribute("max","15"),khan_c.i.duration=15),video_progress=setInterval(function(){a.getAttribute("max")||a.setAttribute("max",khan_c.i.o.getRemainingTime()),d=khan_c.i.duration-khan_c.i.o.getRemainingTime(),r.style.width=Math.floor(d/khan_c.i.duration*100)+"%"},10))}function BeforePlay(){khan_c.i.played=!0,khan_c.i.o.setVolume(0),jQuery("#khan_video_r").muted,swapButtons()}function AfterPlay(){khan_c.i.status="yes_play",khan_c.i.o.setVolume(0),base_div.css({display:"block"}),setupUIForContent(),0==khan_c.i.l?side_slide():changeVideoSize(),showVideoAd(),jQuery("#khan_mute_r").click(function(){volume=khan_c.i.o.getVolume(),0==volume?(khan_c.i.o.setVolume(1),jQuery("#khan_mute_r img").attr("src","//videoad.000webhostapp.com/img/sound_on2.png")):1==volume&&(khan_c.i.o.setVolume(0),jQuery("#khan_mute_r img").attr("src","//videoad.000webhostapp.com/img/sound_off2.png"))}),jQuery("#khan_play_r, #khan_pause_r").click(function(){1==khan_c.i.played?(swapPlayButton(),khan_c.i.o.pause(),khan_c.i.played=!1):(swapPlayButton(),khan_c.i.o.resume(),khan_c.i.played=!0)}),document.getElementById("khan_videos_r").addEventListener("mouseenter",function(a){jQuery(a.target).is("#khan_videos_r")&&(jQuery("#khan_ui_top_o").fadeIn(300),v_width>200&&jQuery("#khan_ui_bottom_r").fadeIn(300))}),document.getElementById("kashif_ad").addEventListener("mouseleave",function(a){jQuery(a.target);jQuery("#khan_ui_top_o").fadeOut(300),jQuery("#khan_ui_bottom_r").fadeOut(300)}),jQuery("#khan_skip_r").click(function(){AfterFinish1()})}function AfterFinish(){jQuery("#"+khan_c.i.V).css("background-color","#000"),clearInterval(khan_c.i.k),jQuery("#"+khan_c.i.V).find("#khan_ui_top_o","#khan_ui_bottom_r").remove(),1!=khan_c.i.h&&(khan_c.i.o.destroy(),khan_c.i.status="no_play",jQuery("#"+khan_c.i.V).slideUp(),hideVideoAd(),side_quit(),jQuery("#"+khan_c.i.V).find("div","a").remove()),khan_c.i.played=!1,swapButtons()}function AfterFinish1(){"yes_play"==khan_c.i.status?(khan_c.i.o.destroy(),khan_c.i.status="no_play",jQuery("#"+khan_c.i.V).css("background-color","#000"),jQuery("#"+khan_c.i.V).slideUp(),hideVideoAd(),clearInterval(khan_c.i.k),side_quit(),jQuery("#"+khan_c.i.V).find("div","a").remove(),khan_c.i.played=!1,swapButtons()):onAdError_a()}function swapPlayButton(){1==khan_c.i.played?(jQuery("#khan_play_r").css("display","block"),jQuery("#khan_pause_r").css("display","none")):(jQuery("#khan_play_r").css("display","none"),jQuery("#khan_pause_r").css("display","block"))}function checkVisible(a,r){r=r||"visible";var d=jQuery(window.parent).height(),i=jQuery(window.parent).scrollTop(),e=jQuery(a).offset().top,t=jQuery(a).height();return"visible"===r?e<d+i&&e>i-t:"above"===r?e<d+i+20:void 0}function checkViewability(a){var r=jQuery(window.parent).height(),d=jQuery(window.parent).scrollTop(),i=jQuery(base_div).offset().top,e=jQuery("#"+khan_c.i.t).height();return 0==a||d+r>i+e*a*.01&&d<i+e*(100-a)*.01}function showVideoAd(){jQuery("#"+khan_c.i.V).css("-ms-filter",'"progid:DXImageTransform.Microsoft.Alpha(Opacity=1)"'),jQuery("#"+khan_c.i.V).css("filter","alpha(opacity=1)"),jQuery("#"+khan_c.i.V).css("-moz-opacity","1.0"),jQuery("#"+khan_c.i.V).css("-khtml-opacity","1.0"),jQuery("#"+khan_c.i.V).css("opacity","1.0"),jQuery("#"+khan_c.i.V).css("display","block")}function hideVideoAd(){jQuery("#"+khan_c.i.V).css("-ms-filter",'"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"'),jQuery("#"+khan_c.i.V).css("filter","alpha(opacity=0)"),jQuery("#"+khan_c.i.V).css("-moz-opacity","0.0"),jQuery("#"+khan_c.i.V).css("-khtml-opacity","0.0"),jQuery("#"+khan_c.i.V).css("opacity","0.0")}function swapButtons(){khan_c.i.played?(jQuery("#khan_quit").css("display","none"),jQuery("#khan_refresh").css("display","none")):(jQuery("#khan_quit").css("display","block"),jQuery("#khan_refresh").css("display","block"))}function side_slide(){posdiv.length&&(v_width=$(window.parent).width()-posdiv.offset().left-posdiv.outerWidth()-10),v_width<250&&(v_width=250),changeVideoSize(),base_div.css({height:v_width/16*9,width:v_width,margin:"0 auto"}),base_frame.css({height:v_width/16*9,width:v_width}),jQuery("#"+khan_c.i.t).css({display:"block",width:v_width,height:v_width/16*9}),base_div.animate({right:"0"},1e3),khan_c.i.l=!0}function changeVideoSize(){var a=v_width/16*9;khan_c.i.o.resize(v_width,a,google.ima.ViewMode.NORMAL)}function side_quit(){base_div.animate({right:"-3500px"},2e3)}base_frame=jQuery(base_frame),base_div=jQuery(base_div),init(),khan_c.i.tags=getTags(),requestAds_a(khan_c.i.tags[khan_c.i.h]),window.parent.addEventListener("resize",function(){if("yes_play"==khan_c.i.status)if(window.parent.outerWidth!==windowSize.w||window.parent.outerHeight!==windowSize.I){windowSize.w=window.parent.outerWidth,windowSize.I=window.parent.outerHeight,windowSize.q=window.parent.innerWidth,windowSize.P=window.parent.innerHeight,posdiv.length&&(v_width=$(window.parent).width()-posdiv.offset().left-posdiv.outerWidth()-10),v_width<250&&(v_width=250);var a=v_width-110;changeVideoSize(),base_div.css({height:v_width/16*9,width:v_width,margin:"0 auto"}),base_frame.css({height:v_width/16*9,width:v_width}),jQuery("#"+khan_c.i.t).css({width:v_width,height:v_width/16*9}),jQuery("#khan_progress_wrap_r").css({width:a}),jQuery("#khan_progress_r").css({width:a})}else if(window.parent.innerWidth+.05*window.parent.innerWidth<windowSize.q||window.parent.innerWidth-.05*window.parent.innerWidth>windowSize.q){windowSize.q=window.parent.innerWidth,posdiv.length&&(v_width=$(window.parent).width()-posdiv.offset().left-posdiv.outerWidth()-10),v_width<250&&(v_width=250);a=v_width-110;changeVideoSize(),base_div.css({height:v_width/16*9,width:v_width,margin:"0 auto"}),base_frame.css({height:v_width/16*9,width:v_width}),jQuery("#"+khan_c.i.t).css({width:v_width,height:v_width/16*9}),jQuery("#khan_progress_wrap_r").css({width:a}),jQuery("#khan_progress_r").css({width:a})}});